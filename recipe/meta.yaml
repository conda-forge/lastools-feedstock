{% set version = "v2.0.0" %}

package:
  name: lastools
  version: {{ version }}

source:
  fn: {{ version }}.tar.gz
  url: https://github.com/LAStools/LAStools/archive/refs/tags/{{ version }}.tar.gz
  sha256: 9cdc7851f04746741b4435a4245a1f1bbeaede736e084b21c9e3eb9c13d2dbeb

build:
  number: 0

requirements:
  build:
    - cmake
    - ninja
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:

  run:

test:
  commands:
    - if not exist %LIBRARY_BIN%\\las.dll exit 1        # [win]
    - if not exist %LIBRARY_LIB%\\las.lib exit 1        # [win]
    - if not exist %LIBRARY_INC%\\lasreader.hpp exit 1  # [win]
    - if not exist %LIBRARY_INC%\\laswriter.hpp exit 1  # [win]
    - lasdiff64 -h
    - las2txt64 -h
    - lasindex64 -h
    - lasmerge64 -h
    - txt2las64 -h
    - lasprecision64 -h
    - las2las64 -h
    - laszip64 -h
    - lasinfo64 -h

about:
  home: http://www.cs.unc.edu/~isenburg/lastools/
  license: LGPL-2.1-only
  license_file: LICENSE.txt
  summary: LASlib and LASzip libraries plus open source utilities from LAStools for manipulating LiDAR data in LAS format

extra:
  recipe-maintainers:
    - gillins
    - danclewley
    - armstonj
    - hobu
